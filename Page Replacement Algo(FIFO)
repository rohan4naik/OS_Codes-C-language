/* Assignment FIFO(first in first out) */

#include <stdio.h>

int page[20];
int frame[20];
int np, nf, flag, i, j, k, pf = 0;

int main() {
    printf("\n Enter no. of pages: ");
    scanf("%d", &np);

    printf("\n Enter no. of frames: ");
    scanf("%d", &nf);

    printf("\n Enter the reference string: ");
    for (i = 0; i < np; i++) {
        scanf("%d", &page[i]);
    }

    for (i = 0; i < nf; i++) {
        frame[i] = -1;
    }

    printf("\n Page 	 Frames");
    printf("\n---------------------\n");

    j = 0;

    for (i = 0; i < np; i++) {
        flag = 0;

        for (k = 0; k < nf; k++) {
            if (frame[k] == page[i]) {
                flag = 1;
                break;
            }
        }

        if (flag == 0) {
            frame[j] = page[i];
            j = (j + 1) % nf;
            pf++;

            printf("\n %d 	", page[i]);
            for (k = 0; k < nf; k++) {
                if (frame[k] == -1)
                    printf(" - ");
                else
                    printf(" %d ", frame[k]);
            }
            printf("	 Page Fault");
        } else {
            printf("\n %d 	", page[i]);
            for (k = 0; k < nf; k++) {
                if (frame[k] == -1)
                    printf(" - ");
                else
                    printf(" %d ", frame[k]);
            }
            printf("	 No Page Fault");
        }
    }

    printf("\n\nTotal Page Faults: %d\n", pf);

    return 0;
}
